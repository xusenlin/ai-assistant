import{S as v,E as m,d as R,c as s,o as P,e as W,h as e,w as o,g as t,j as _,P as D,_ as I}from"./index-6a805337.js";import{r as u}from"./request-2be46003.js";import{u as q}from"./pagination-7089872e.js";function M(n){return u.request({url:"/v1/sensitiveWords/list",method:"get",params:n})}function A(){return u.request({url:"/v1/sensitiveWords/migrate",method:"get"})}function E(n){return u.request({url:"/v1/sensitiveWords/destroy",method:"get",params:n})}function T(n){return u.request({url:"/v1/sensitiveWords/add",method:"get",params:{word:n}})}function V(n){return{clickMigrate:()=>{A().then(()=>{n(),m({type:"success",message:"迁移成功"})})},deleteRow:r=>{v.confirm("确认删除此记录吗？","确认操作",{confirmButtonText:"确认",cancelButtonText:"关闭",type:"warning"}).then(()=>{let{ID:i}=r;E({id:i}).then(()=>{m({type:"success",message:"删除成功"}),n()}).catch(()=>{})}).catch(()=>{})},addSensitiveWords:()=>{v.prompt("请输入你的敏感词","提示",{confirmButtonText:"OK",cancelButtonText:"Cancel"}).then(({value:r})=>{T(r).then(()=>{m({type:"success",message:"添加成功"}),n()})}).catch(()=>{})}}}const N={class:"box"},S=R({__name:"Index",setup(n){const{searchParams:l,tableData:f,paginationRef:g,setTableData:r,refreshTable:i,resetParams:h}=q(),{deleteRow:x,clickMigrate:y,addSensitiveWords:b}=V(i);return($,a)=>{const p=s("el-button"),k=s("el-input"),w=s("ActionBar"),d=s("el-table-column"),C=s("el-table"),B=s("Pagination");return P(),W("div",N,[e(w,{onReset:t(h),onRefresh:t(i)},{left:o(()=>[e(p,{type:"primary",onClick:a[0]||(a[0]=c=>t(b)())},{default:o(()=>[_("添加")]),_:1}),e(p,{type:"success",onClick:a[1]||(a[1]=c=>t(y)())},{default:o(()=>[_("敏感词迁移")]),_:1})]),right:o(()=>[e(k,{modelValue:t(l).keyword,"onUpdate:modelValue":a[2]||(a[2]=c=>t(l).keyword=c),placeholder:"请输入关键词",clearable:""},null,8,["modelValue"])]),_:1},8,["onReset","onRefresh"]),e(C,{data:t(f),style:{width:"100%"},"max-height":"calc(100vh - 267px)"},{default:o(()=>[e(d,{prop:"ID",label:"ID"}),e(d,{prop:"Name",label:"Name"}),e(d,{prop:"CreatedAt",label:"CreatedAt"}),e(d,{fixed:"right",label:"操作"},{default:o(c=>[e(p,{type:"danger",onClick:D(F=>t(x)(c.row),["prevent"])},{default:o(()=>[_(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(B,{ref_key:"paginationRef",ref:g,params:t(l),reqFunc:t(M),onPageData:t(r)},null,8,["params","reqFunc","onPageData"])])}}});const O=I(S,[["__scopeId","data-v-13b3fcf1"]]);export{O as default};
