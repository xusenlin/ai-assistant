{"version":3,"file":"js/bingSample.ca328527.js","mappings":"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","sources":["webpack://vue-multiple-pages/./src/config/page.js","webpack://vue-multiple-pages/./src/utils/isTerminal.js","webpack://vue-multiple-pages/./src/config/env.js","webpack://vue-multiple-pages/./src/config/app.js","webpack://vue-multiple-pages/./src/utils/common.js","webpack://vue-multiple-pages/./src/config/request.js","webpack://vue-multiple-pages/./src/utils/request.js","webpack://vue-multiple-pages/./src/api/wechat/index.js","webpack://vue-multiple-pages/./src/utils/wechat.js","webpack://vue-multiple-pages/./src/api/inex.js","webpack://vue-multiple-pages/./src/pages/bingSample/App.vue","webpack://vue-multiple-pages/./src/pages/bingSample/App.vue?e5cf","webpack://vue-multiple-pages/./src/utils/checkUrlParams.js","webpack://vue-multiple-pages/./src/pages/bingSample/main.js","webpack://vue-multiple-pages/webpack/bootstrap","webpack://vue-multiple-pages/webpack/runtime/chunk loaded","webpack://vue-multiple-pages/webpack/runtime/compat get default export","webpack://vue-multiple-pages/webpack/runtime/define property getters","webpack://vue-multiple-pages/webpack/runtime/global","webpack://vue-multiple-pages/webpack/runtime/hasOwnProperty shorthand","webpack://vue-multiple-pages/webpack/runtime/runtimeId","webpack://vue-multiple-pages/webpack/runtime/publicPath","webpack://vue-multiple-pages/webpack/runtime/jsonp chunk loading","webpack://vue-multiple-pages/webpack/startup"],"sourcesContent":["//这里做页面参数约定和说明，如果url没有携带requiredParams的参数则无法初始化页面\r\nmodule.exports = {\r\n  index: {\r\n    title: \"查询\",\r\n    requiredParams: {}\r\n  },\r\n  bingSample:{\r\n    title: \"绑定样本\",\r\n    requiredParams: {\r\n    }\r\n  },\r\n  userAgreement:{\r\n    title: \"用户隐私协议\",\r\n    requiredParams: {\r\n    }\r\n  },\r\n};\r\n","const ua = window.navigator.userAgent;\r\n\r\nconst isAndroid = /(Android);?[\\s/]+([\\d.]+)?/i.test(ua);\r\nconst isIpad = /(iPad).*OS\\s([\\d_]+)/i.test(ua);\r\nconst isIpod = /(iPod)(.*OS\\s([\\d_]+))?/i.test(ua);\r\nconst isIphone = !isIpad && /(iPhone\\sOS)\\s([\\d_]+)/i.test(ua);\r\nconst isWechat = /micromessenger/i.test(ua);\r\nconst isAlipay = /alipayclient/i.test(ua);\r\n\r\nexport {isIphone,isWechat,isAlipay,isAndroid,isIpad,isIpod}\r\n","export const env =  process.env.VUE_APP_ENV\r\n\r\nexport const isDevEnv = env === \"Dev\"\r\n\r\nexport const isTestEnv = env === \"Test\"\r\n\r\nexport const isProEnv = env === \"Pro\"\r\n\r\n\r\n\r\n","import {isProEnv} from \"./env\"\r\nexport const version = \"0.1.0\"\r\n\r\nexport const tokenKey = \"Q_L_R_R_ACCESS_TOKEN\"\r\n\r\nexport const userInfoKey = \"Q_L_R_R_USER_INFO\"\r\n\r\nexport const appid = isProEnv ? \"wx435641b82183ea02\" : \"wx7770f7299260c59d\"\r\n\r\n\r\n\r\n\r\n","import Storage from \"good-storage\";\r\nimport { userInfoKey,tokenKey } from \"@/config/app\";\r\n\r\n/**\r\n * 获取当前页面的参数\r\n * @param key\r\n * @returns {{}|null|*}\r\n */\r\nexport function getPageParams(key = null) {\r\n  let paramsUrl = window.location.href.split(\"?\");\r\n  if (paramsUrl.length < 2) return key ? null : {};\r\n  let paramsArr = paramsUrl[1].split(\"&\");\r\n  let paramsData = {};\r\n  paramsArr.forEach(r => {\r\n    let data = r.split(\"=\");\r\n    paramsData[data[0]] = data[1];\r\n  });\r\n  if (key) return paramsData.key ? paramsData[key] : null;\r\n  return paramsData;\r\n}\r\n\r\n/**\r\n * 将对象转换为?a=5&b=7形式\r\n * @param obj\r\n * @param firstStr\r\n * @returns {string|string}\r\n */\r\nexport function obj2StrParams(obj, firstStr = \"?\") {\r\n  let params = firstStr;\r\n\r\n  for (let p in obj) {\r\n    params += p + \"=\" + obj[p] + \"&\";\r\n  }\r\n  return params.substring(0, params.length - 1);\r\n}\r\n\r\n/**\r\n * 获取当前url\r\n * http://192.168.49.71:8081/ => http://192.168.49.71:8081/\r\n * http://192.168.49.71:8081/mm/ => http://192.168.49.71:8081/mm/\r\n * http://192.168.49.71:8081/mm/index.html => http://192.168.49.71:8081/mm/\r\n * http://192.168.49.71:8081/mm/ff/login.html?id=55 => http://192.168.49.71:8081/mm/ff/\r\n * 页面名字不能能匹配除\\w 的地址，也就是说你的页面名字名字必须由a-z、A-Z、0-9，以及下划线组成才可以。\r\n * @returns {string}\r\n */\r\nexport function getCurrentUrl() {\r\n  let allUrl = window.location.href;\r\n  let match = allUrl.match(/(\\S+\\/)\\w+.html/i);\r\n  return match && Array.isArray(match) && match.length > 1 ? match[1] : allUrl;\r\n}\r\n\r\n/**\r\n * 重置对象（会修改原始对象）\r\n * @param object\r\n * @param defaultVal\r\n */\r\nexport function resetObject(object, defaultVal = {}) {\r\n  for (let k in object) {\r\n    if (defaultVal.k) {\r\n      object[k] = defaultVal[k];\r\n    } else {\r\n      if (Array.isArray(object[k])) object[k] = [];\r\n      if (\"string\" == typeof object[k]) object[k] = \"\";\r\n      if (\"number\" == typeof object[k]) object[k] = null;\r\n      if (\"boolean\" == typeof object[k]) object[k] = false;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 对象赋值（会修改原始对象）\r\n * @param object\r\n * @param valObject\r\n */\r\nexport function fillerLeft(object, valObject = {}) {\r\n  for (let k in object) {\r\n    if (valObject.k) {\r\n      object[k] = valObject[k];\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 获取用户信息\r\n * @param key\r\n * @returns {null|*|undefined|{}}\r\n */\r\nexport function getUserInfo(key = null) {\r\n  let userInfo = Storage.get(userInfoKey) || {};\r\n  if (key) return userInfo[key] ? userInfo[key] : null;\r\n  return userInfo || {};\r\n}\r\n\r\n/**\r\n * 设置用户信息\r\n * @param user\r\n * @returns {*}\r\n */\r\nexport function setUserInfo(user) {\r\n  Storage.set(userInfoKey, user);\r\n  return user;\r\n}\r\n\r\n/**\r\n * 获取Token\r\n * @returns {*|undefined}\r\n */\r\nexport function getToken() {\r\n  return Storage.get(tokenKey);\r\n}\r\nexport function isLogin() {\r\n  return Storage.get(tokenKey,\"\").length>5;\r\n}\r\n\r\n/**\r\n * 设置Token\r\n * @param token\r\n * @returns {*|undefined}\r\n */\r\nexport function setToken(token) {\r\n  return Storage.set(tokenKey, token);\r\n}\r\n\r\n/**\r\n * 移除Token\r\n * @returns {*}\r\n */\r\nexport function removeToken() {\r\n  return Storage.remove(tokenKey);\r\n}\r\n","import {isProEnv } from \"./env\"\r\nexport const timeout = 3000\r\n\r\nexport const requestRetry = 4\r\n\r\nexport const requestRetryDelay = 800\r\n\r\nexport const baseURL = isProEnv ? window.location.origin:process.env.VUE_APP_REQ_URL\r\n\r\n\r\n","import Axios from \"axios\";\r\nimport { getToken,getCurrentUrl,removeToken } from \"@/utils/common.js\";\r\nimport { showLoadingToast,closeToast,showToast } from \"vant\";\r\nimport { appid } from \"@/config/app\"\r\nimport { baseURL,timeout,requestRetryDelay,requestRetry } from \"@/config/request\";\r\n\r\nconst service = Axios.create({\r\n  baseURL,\r\n  headers: {\r\n    Accept: \"*/*\"\r\n  },\r\n  timeout\r\n});\r\n\r\nservice.defaults.retry = requestRetry;\r\nservice.defaults.retryDelay = requestRetryDelay;\r\n\r\n\r\nservice.interceptors.request.use(\r\n  config => {\r\n    if (config.showLoading) {\r\n      showLoadingToast({\r\n        message: '加载中...',\r\n        forbidClick: true,\r\n      });\r\n    }\r\n    config.headers[\"Authorization\"] = getToken();\r\n    return config;\r\n  },\r\n  error => {\r\n    closeToast()\r\n    Promise.reject(error);\r\n  }\r\n);\r\n\r\nservice.interceptors.response.use(\r\n  res => {\r\n    closeToast()\r\n    if (res.status !== 200) {\r\n      showToast('数据返回出错');\r\n      return Promise.reject(\"响应非200！\");\r\n    } else {\r\n      if(res.data.code === \"401\"){\r\n        showLoadingToast({\r\n          message: '登录失效，正在重新登录',\r\n          forbidClick: true,\r\n        });\r\n        removeToken()\r\n        setTimeout(()=>{\r\n          window.location.href = `https://open.weixin.qq.com/connect/oauth2/authorize?appid=${appid}&redirect_uri=${getCurrentUrl()}&response_type=code&scope=snsapi_base&state=123#wechat_redirect`\r\n        },600)\r\n        return\r\n      }\r\n      if(res.data.code === \"A0215\"){//code失效\r\n        showLoadingToast({\r\n          message: '微信授权失败，正在重新授权登录',\r\n          forbidClick: true,\r\n        });\r\n        removeToken()\r\n        setTimeout(()=>{\r\n          window.location.href = `https://open.weixin.qq.com/connect/oauth2/authorize?appid=${appid}&redirect_uri=${getCurrentUrl()}&response_type=code&scope=snsapi_base&state=123#wechat_redirect`\r\n        },600)\r\n        return\r\n      }\r\n      if (res.data.code != '00000') {\r\n        //统一处理错误\r\n        showToast(res.data.msg);\r\n        return Promise.reject(\"error\");\r\n      }\r\n      return res.data.data;\r\n    }\r\n  },\r\n  error => {\r\n    showToast(error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default service;\r\n\r\n\r\nexport const transformRequest = [function (data) {\r\n  let formData = new FormData()\r\n  for (let key in data) {\r\n    formData.append(key, data[key])\r\n  }\r\n  return formData\r\n}];\r\n","import request from \"@/utils/request\";\r\n\r\n\r\nexport function wechatSignatureApi(params){\r\n  return request({\r\n    url: \"/api/wxuser/getConfigData\",\r\n    method: \"get\",\r\n    params: params\r\n  });\r\n}\r\n","// 要使用请安装weixin-js-sdk\r\nimport wx from 'weixin-js-sdk';\r\nimport { showToast } from \"vant\"\r\nimport { isWechat } from \"@/utils/isTerminal\";\r\nimport { wechatSignatureApi } from \"@/api/wechat/index\";\r\n\r\n\r\n/**\r\n * 签名\r\n * @param apiList\r\n * @returns {Promise<any>}\r\n */\r\nfunction wechatSignature(apiList = []) {\r\n  return new Promise((resolve, reject) => {\r\n    if (!isWechat) {\r\n      return reject(\"请在微信客户端打开\");\r\n    }\r\n    if (0 === apiList.length) {\r\n      apiList = [\r\n        \"onMenuShareTimeline\",\r\n        \"onMenuShareAppMessage\",\r\n        \"showMenuItems\",\r\n        \"hideOptionMenu\",\r\n        \"closeWindow\",\r\n        'scanQRCode', 'chooseImage', 'getLocalImgData'\r\n      ];\r\n    }\r\n    wechatSignatureApi({ url: window.location.href })\r\n      .then(r => {\r\n        wx.config({\r\n          debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\r\n          appId: r.appId, // 必填，公众号的唯一标识\r\n          timestamp: r.timestamp, // 必填，生成签名的时间戳\r\n          nonceStr: r.nonceStr, // 必填，生成签名的随机串\r\n          signature: r.signature, // 必填，签名\r\n          jsApiList: apiList // 必填，需要使用的JS接口列表\r\n        });\r\n        wx.ready(function() {\r\n          wx.hideOptionMenu();\r\n          resolve();\r\n        });\r\n        wx.error(function() {\r\n          reject(\"微信签名失败\");\r\n          showToast('微信签名失败');\r\n        });\r\n      })\r\n      .catch(() => {\r\n        reject(\"获取签名信息失败\");\r\n        showToast('获取签名信息失败');\r\n      });\r\n  });\r\n}\r\n\r\n/**\r\n * 分享给朋友\r\n * @param config\r\n * @param callback\r\n */\r\nfunction shareFriend(config, callback) {\r\n  wx.onMenuShareAppMessage({\r\n    title: config.shareTitle, // 分享标题\r\n    desc: config.shareBody, // 分享描述\r\n    link: config.shareUrl, // 分享链接\r\n    imgUrl: config.shareImg, // 分享图标\r\n    //type: '', // 分享类型,music、video或link，不填默认为link\r\n    //dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空\r\n    success: function() {\r\n      callback(); //官方说这个可能不会调用了吧\r\n    },\r\n    cancel: function() {\r\n      //Toast('分享失败');\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * 分享到朋友圈\r\n * @param config\r\n * @param callback\r\n */\r\nfunction shareFriendQ(config, callback) {\r\n  wx.onMenuShareTimeline({\r\n    title: config.shareTitle, // 分享标题\r\n    link: config.shareUrl, // 分享链接\r\n    imgUrl: config.shareImg, // 分享图标\r\n    success: function() {\r\n      callback(); //官方说这个可能不会调用了吧\r\n      //Toast('分享成功');\r\n    },\r\n    cancel: function() {\r\n      //Toast('分享失败');\r\n    }\r\n  });\r\n}\r\n\r\nfunction hideOptionMenu() {\r\n  wx.hideOptionMenu();\r\n}\r\n\r\nfunction showOptionMenu() {\r\n  wx.showOptionMenu();\r\n}\r\n\r\n/**\r\n * 批量隐藏菜单项\r\n * @param menuItems\r\n */\r\nfunction hideMenuItems(menuItems) {\r\n  // menuItems = [\r\n  //     'menuItem:readMode', // 阅读模式\r\n  //     'menuItem:share:timeline', // 分享到朋友圈\r\n  //     'menuItem:copyUrl' // 复制链接\r\n  // ]\r\n  wx.hideMenuItems({\r\n    menuList: menuItems,\r\n    success: function(res) {\r\n      console.log(res);\r\n      alert(\"隐藏阅读模式,分享到朋友圈,复制链接\");\r\n    },\r\n    fail: function(res) {\r\n      alert(JSON.stringify(res));\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * 批量显示菜单项\r\n * @param menuItems\r\n */\r\nfunction showMenuItems(menuItems) {\r\n  // menuItems = [\r\n  //     'menuItem:readMode', // 阅读模式\r\n  //     'menuItem:share:timeline', // 分享到朋友圈\r\n  //     'menuItem:copyUrl' // 复制链接\r\n  // ]\r\n  wx.showMenuItems({\r\n    menuList: menuItems,\r\n    success: function(res) {\r\n      console.log(res);\r\n      alert(\"已显示阅读模式,分享到朋友圈,复制链接\");\r\n    },\r\n    fail: function(res) {\r\n      alert(JSON.stringify(res));\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * 隐藏所有非基本菜单项\r\n */\r\nfunction hideAllNonBaseMenuItem() {\r\n  wx.hideAllNonBaseMenuItem({\r\n    success: function() {\r\n      alert(\"隐藏所有非基本菜单项\");\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * 显示所有非基本菜单项\r\n */\r\nfunction showAllNonBaseMenuItem() {\r\n  wx.showAllNonBaseMenuItem({\r\n    success: function() {\r\n      alert(\"显示所有非基本菜单项\");\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * 关闭微信窗口\r\n */\r\nfunction closeWechatWindow() {\r\n  wx.closeWindow();\r\n}\r\n\r\nfunction WechatPay(params) {\r\n  if (!isWechat || typeof WeixinJSBridge == \"undefined\") {\r\n    //Toast(\"检测不到微信环境\");\r\n    return;\r\n  }\r\n\r\n  window.WeixinJSBridge.invoke(\r\n    \"getBrandWCPayRequest\",\r\n    {\r\n      appId: params.appId,\r\n      timeStamp: params.timeStamp,\r\n      nonceStr: params.nonceStr,\r\n      package: params.packageValue,\r\n      signType: params.signType,\r\n      paySign: params.paySign\r\n    },\r\n    function(res) {\r\n      if (res.err_msg == \"get_brand_wcpay_request:ok\") {\r\n        // 使用以上方式判断前端返回,微信团队郑重提示：\r\n        //res.err_msg将在用户支付成功后返回ok，但并不保证它绝对可靠。\r\n        // Toast('支付成功！');\r\n        // window.location.href = `${Config.sharePageUrl}/paySuccess.html?orderNo=` + params.orderNo;\r\n      } else {\r\n        //Toast('支付失败，请重试！')\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\nexport {\r\n  WechatPay,\r\n  shareFriend,\r\n  shareFriendQ,\r\n  hideMenuItems,\r\n  showMenuItems,\r\n  hideOptionMenu,\r\n  showOptionMenu,\r\n  wechatSignature,\r\n  closeWechatWindow,\r\n  hideAllNonBaseMenuItem,\r\n  showAllNonBaseMenuItem\r\n};\r\n","import request from \"@/utils/request.js\"\r\nimport { getUserInfo,getToken } from \"@/utils/common.js\"\r\nimport { baseURL } from \"@/config/request.js\"\r\n\r\nexport const QueryReport = (params) => {\r\n  return request({\r\n    url: \"/api/report/userQueryReport\",\r\n    method: \"post\",\r\n    data: params\r\n  });\r\n}\r\nexport const getSamplesByUser = (params) => {\r\n  let userId = getUserInfo(\"loginId\")\r\n  return request({\r\n    url: `/api/sample/getSamplesByUser/${userId}`,\r\n    method: \"get\",\r\n    params: params\r\n  });\r\n}\r\n\r\nexport const bindOrUnBindSampleUser = (params) => {\r\n  let userId = getUserInfo(\"loginId\")\r\n  return request({\r\n    url: `/api/sample/bindOrUnBindSampleUser`,\r\n    method: \"post\",\r\n    data: {userId,...params}\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\nexport const DownloadReport = (url) => {\r\n  return  `${baseURL}/api/report/download?fileName=${url}&Authorization=${getToken()}`\r\n}\r\n\r\nexport const getPdfViewUrl = (params) => {\r\n  return request({\r\n    url: `/api/report/getUrl`,\r\n    method: \"get\",\r\n    params: params\r\n  });\r\n}\r\n\r\n\r\nexport const sendTelMsg = (params) => {\r\n  return request({\r\n    url: \"/api/wxuser/sendTelMsg\",\r\n    method: \"post\",\r\n    data: params\r\n  });\r\n}\r\n\r\nexport const wxUserLogin = (params) => {\r\n  return request({\r\n    url: \"/api/wxuser/wxUserLogin\",\r\n    method: \"post\",\r\n    data: params\r\n  });\r\n}\r\n","<template>\r\n  <div class=\"bing-sample\">\r\n    <img src=\"./img/logo.jpeg\" style=\"width: 30%;margin-bottom: 60px;border-radius: 50%\" alt=\"\">\r\n    <div class=\"box\">\r\n      <CellGroup inset>\r\n        <Field\r\n            v-model=\"sampleId\"\r\n            type=\"text\"\r\n            name=\"msg\"\r\n            required\r\n            center\r\n            label=\"样本编号\"\r\n            placeholder=\"请输入或者扫描样本编号\"\r\n        >\r\n          <template #button>\r\n            <Button @click=\"scanQRCode\" size=\"mini\" round type=\"primary\" icon=\"scan\">扫码</Button>\r\n          </template>\r\n        </Field>\r\n      </CellGroup>\r\n      <div style=\"padding: 16px;margin-top: 40px;margin-bottom: 40px\" >\r\n        <Button round type=\"primary\" block @click=\"bindSample\">确认绑定</Button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref} from \"vue\"\r\nimport wx from 'weixin-js-sdk';\r\nimport { wechatSignature } from \"@/utils/wechat.js\"\r\nimport { bindOrUnBindSampleUser} from \"@/api/inex.js\"\r\nimport {CellGroup,Button,Field,showToast} from \"vant\"\r\n\r\n\r\nwechatSignature()\r\n\r\nconst sampleId = ref(\"\")\r\nconst bindSample = async () => {\r\n  if(!sampleId.value){\r\n    showToast(\"请正确输入样本编号\")\r\n    return\r\n  }\r\n  await bindOrUnBindSampleUser({bind:true,sampleId:sampleId.value})\r\n\r\n  showToast(\"绑定成功\")\r\n  // sampleId.value = \"\"\r\n  window.location.href = \"./index.html\"\r\n}\r\n\r\nconst scanQRCode = () => {\r\n  wx.scanQRCode({\r\n    needResult: 1, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，\r\n    scanType: [\"qrCode\", \"barCode\"], // 可以指定扫二维码还是一维码，默认二者都有\r\n    success: function (res) {\r\n      showToast(\"扫码成功\")\r\n      let result = res.resultStr\r\n      let r = result.split(\",\")\r\n      if(r.length===2){\r\n        sampleId.value = r[1]\r\n      }else {\r\n        sampleId.value = result\r\n      }\r\n    },\r\n    fail: function (res) {\r\n      showToast(JSON.stringify(res))\r\n    },\r\n    cancel: function () {\r\n\r\n    }\r\n  });\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.bing-sample {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100vh;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  padding-bottom: 80px;\r\n  .box {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=441e37f1&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\git\\\\nurse+\\\\ai-assistant\\\\frontendCustomer\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-441e37f1\"]])\n\nexport default __exports__","import { getPageParams } from \"./common.js\";\r\nimport allPageConfig from \"@/config/page.js\";\r\n\r\nlet pageName = window.PAGE_PATH; //PAGE_PATH在public中定义。\r\nlet pageConfig = allPageConfig[pageName] || {};\r\n\r\nfunction validateParams(requiredParams = {}, pageParams) {\r\n  let errorMsg = [];\r\n  if (Object.keys(requiredParams).length === 0) return errorMsg;\r\n  for (let key in requiredParams) {\r\n    if (!pageParams[key]) {\r\n      errorMsg.push({ name: key, desc: requiredParams[key] });\r\n    }\r\n  }\r\n  return errorMsg;\r\n}\r\n\r\nexport function initPage() {\r\n  let pageParams = getPageParams();\r\n  let errorMsg = validateParams(pageConfig.requiredParams, pageParams);\r\n\r\n  return new Promise((resolve, reject) => {\r\n    if (errorMsg.length !== 0) {\r\n      console.table(errorMsg);\r\n      document.body.innerHTML = `<div style=\"width: 100%;height: 100vh;display: flex;flex-direction:column;justify-content: center;align-items: center\">\r\n页面路径出错，请尝试重新打开。\r\n<code style=\"padding: 20px;margin-top:20px;background: #eee;\">参数：${errorMsg.map(r=>(r.desc)).join(\"、\")}</code>\r\n</div>`;\r\n      reject(errorMsg);\r\n    } else {\r\n\r\n      resolve({pageName, pageParams});\r\n    }\r\n  });\r\n}\r\n","import App from './App.vue'\r\nimport \"@/assets/js/common\"\r\nimport {createApp} from 'vue'\r\nimport {initPage} from \"@/utils/checkUrlParams.js\"\r\n\r\ninitPage().then((pageName, pageParams) => {\r\n  window.$pageName = pageName;\r\n  window.$pageParams = pageParams;\r\n  createApp(App).mount('#app')\r\n}).catch(e => {\r\n  console.log(e);\r\n});\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.j = 213;","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t213: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_multiple_pages\"] = self[\"webpackChunkvue_multiple_pages\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(7627); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["module","exports","index","title","requiredParams","bingSample","userAgreement","ua","window","navigator","userAgent","isIpad","test","isWechat","env","process","isProEnv","tokenKey","userInfoKey","appid","getPageParams","key","paramsUrl","location","href","split","length","paramsArr","paramsData","forEach","r","data","getCurrentUrl","allUrl","match","Array","isArray","getUserInfo","userInfo","Storage","getToken","removeToken","timeout","requestRetry","requestRetryDelay","baseURL","origin","service","Axios","headers","Accept","defaults","retry","retryDelay","interceptors","request","use","config","showLoading","showLoadingToast","message","forbidClick","error","closeToast","Promise","reject","response","res","status","showToast","code","setTimeout","msg","wechatSignatureApi","params","url","method","wechatSignature","apiList","resolve","then","wx","debug","appId","timestamp","nonceStr","signature","jsApiList","catch","bindOrUnBindSampleUser","userId","sampleId","ref","bindSample","async","value","bind","scanQRCode","needResult","scanType","success","result","resultStr","fail","JSON","stringify","cancel","__exports__","pageName","PAGE_PATH","pageConfig","allPageConfig","validateParams","pageParams","errorMsg","Object","keys","push","name","desc","initPage","console","table","document","body","innerHTML","map","join","$pageName","$pageParams","createApp","App","mount","e","log","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}