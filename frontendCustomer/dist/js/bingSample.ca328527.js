(function(){var e={7765:function(e){e.exports={index:{title:"查询",requiredParams:{}},bingSample:{title:"绑定样本",requiredParams:{}},userAgreement:{title:"用户隐私协议",requiredParams:{}}}},7627:function(e,t,n){"use strict";var r=n(3396),i=n(4870),o=n.p+"img/logo.148959a2.jpeg",a=n(9028),s=n.n(a),u=n(4754);const c=window.navigator.userAgent,l=(/(Android);?[\s/]+([\d.]+)?/i.test(c),/(iPad).*OS\s([\d_]+)/i.test(c)),d=(/(iPod)(.*OS\s([\d_]+))?/i.test(c),!l&&/(iPhone\sOS)\s([\d_]+)/i.test(c),/micromessenger/i.test(c));/alipayclient/i.test(c);var p=n(6265),f=n.n(p),m=n(4486);const g="Pro",h="Pro"===g,w="Q_L_R_R_ACCESS_TOKEN",v="Q_L_R_R_USER_INFO",_=h?"wx435641b82183ea02":"wx7770f7299260c59d";function b(e=null){let t=window.location.href.split("?");if(t.length<2)return e?null:{};let n=t[1].split("&"),r={};return n.forEach((e=>{let t=e.split("=");r[t[0]]=t[1]})),e?r.key?r[e]:null:r}function y(){let e=window.location.href,t=e.match(/(\S+\/)\w+.html/i);return t&&Array.isArray(t)&&t.length>1?t[1]:e}function x(e=null){let t=m.Z.get(v)||{};return e?t[e]?t[e]:null:t||{}}function C(){return m.Z.get(w)}function O(){return m.Z.remove(w)}const P=3e3,S=4,j=800,k=h?window.location.origin:"",A=f().create({baseURL:k,headers:{Accept:"*/*"},timeout:P});A.defaults.retry=S,A.defaults.retryDelay=j,A.interceptors.request.use((e=>(e.showLoading&&(0,u.di)({message:"加载中...",forbidClick:!0}),e.headers["Authorization"]=C(),e)),(e=>{(0,u.yg)(),Promise.reject(e)})),A.interceptors.response.use((e=>((0,u.yg)(),200!==e.status?((0,u.CF)("数据返回出错"),Promise.reject("响应非200！")):"401"===e.data.code?((0,u.di)({message:"登录失效，正在重新登录",forbidClick:!0}),O(),void setTimeout((()=>{window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${_}&redirect_uri=${y()}&response_type=code&scope=snsapi_base&state=123#wechat_redirect`}),600)):"A0215"===e.data.code?((0,u.di)({message:"微信授权失败，正在重新授权登录",forbidClick:!0}),O(),void setTimeout((()=>{window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${_}&redirect_uri=${y()}&response_type=code&scope=snsapi_base&state=123#wechat_redirect`}),600)):"00000"!=e.data.code?((0,u.CF)(e.data.msg),Promise.reject("error")):e.data.data)),(e=>((0,u.CF)(e.message),Promise.reject(e))));var q=A;function F(e){return q({url:"/api/wxuser/getConfigData",method:"get",params:e})}function U(e=[]){return new Promise(((t,n)=>{if(!d)return n("请在微信客户端打开");0===e.length&&(e=["onMenuShareTimeline","onMenuShareAppMessage","showMenuItems","hideOptionMenu","closeWindow","scanQRCode","chooseImage","getLocalImgData"]),F({url:window.location.href}).then((r=>{s().config({debug:!1,appId:r.appId,timestamp:r.timestamp,nonceStr:r.nonceStr,signature:r.signature,jsApiList:e}),s().ready((function(){s().hideOptionMenu(),t()})),s().error((function(){n("微信签名失败"),(0,u.CF)("微信签名失败")}))})).catch((()=>{n("获取签名信息失败"),(0,u.CF)("获取签名信息失败")}))}))}const I=e=>{let t=x("loginId");return q({url:"/api/sample/bindOrUnBindSampleUser",method:"post",data:{userId:t,...e}})};var T=n(5331),R=n(3708),M=n(9545);const L=e=>((0,r.dD)("data-v-441e37f1"),e=e(),(0,r.Cn)(),e),$={class:"bing-sample"},z=L((()=>(0,r._)("img",{src:o,style:{width:"30%","margin-bottom":"60px","border-radius":"50%"},alt:""},null,-1))),E={class:"box"},N=(0,r.Uk)("扫码"),D={style:{padding:"16px","margin-top":"40px","margin-bottom":"40px"}},W=(0,r.Uk)("确认绑定");var Q={__name:"App",setup(e){U();const t=(0,i.iH)(""),n=async()=>{t.value?(await I({bind:!0,sampleId:t.value}),(0,u.CF)("绑定成功"),window.location.href="./index.html"):(0,u.CF)("请正确输入样本编号")},o=()=>{s().scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(e){(0,u.CF)("扫码成功");let n=e.resultStr,r=n.split(",");2===r.length?t.value=r[1]:t.value=n},fail:function(e){(0,u.CF)(JSON.stringify(e))},cancel:function(){}})};return(e,a)=>((0,r.wg)(),(0,r.iD)("div",$,[z,(0,r._)("div",E,[(0,r.Wm)((0,i.SU)(T.TS),{inset:""},{default:(0,r.w5)((()=>[(0,r.Wm)((0,i.SU)(R.gN),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),type:"text",name:"msg",required:"",center:"",label:"样本编号",placeholder:"请输入或者扫描样本编号"},{button:(0,r.w5)((()=>[(0,r.Wm)((0,i.SU)(M.zx),{onClick:o,size:"mini",round:"",type:"primary",icon:"scan"},{default:(0,r.w5)((()=>[N])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r._)("div",D,[(0,r.Wm)((0,i.SU)(M.zx),{round:"",type:"primary",block:"",onClick:n},{default:(0,r.w5)((()=>[W])),_:1})])])]))}},Z=n(89);const H=(0,Z.Z)(Q,[["__scopeId","data-v-441e37f1"]]);var V=H,B=(n(5110),n(9242)),G=n(7765),J=n.n(G);let K=window.PAGE_PATH,X=J()[K]||{};function Y(e={},t){let n=[];if(0===Object.keys(e).length)return n;for(let r in e)t[r]||n.push({name:r,desc:e[r]});return n}function ee(){let e=b(),t=Y(X.requiredParams,e);return new Promise(((n,r)=>{0!==t.length?(console.table(t),document.body.innerHTML=`<div style="width: 100%;height: 100vh;display: flex;flex-direction:column;justify-content: center;align-items: center">\n页面路径出错，请尝试重新打开。\n<code style="padding: 20px;margin-top:20px;background: #eee;">参数：${t.map((e=>e.desc)).join("、")}</code>\n</div>`,r(t)):n({pageName:K,pageParams:e})}))}ee().then(((e,t)=>{window.$pageName=e,window.$pageParams=t,(0,B.ri)(V).mount("#app")})).catch((e=>{console.log(e)}))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,o){if(!r){var a=1/0;for(l=0;l<e.length;l++){r=e[l][0],i=e[l][1],o=e[l][2];for(var s=!0,u=0;u<r.length;u++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(s=!1,o<a&&(a=o));if(s){e.splice(l--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,i,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.j=213}(),function(){n.p=""}(),function(){var e={213:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)var l=u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkvue_multiple_pages"]=self["webpackChunkvue_multiple_pages"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(7627)}));r=n.O(r)})();
//# sourceMappingURL=bingSample.ca328527.js.map