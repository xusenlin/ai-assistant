(function(){var e={7765:function(e){e.exports={index:{title:"查询",requiredParams:{}},bingSample:{title:"绑定样本",requiredParams:{}},userAgreement:{title:"用户隐私协议",requiredParams:{}}}},5933:function(e,t,n){"use strict";var o=n(3396),r=n(4870),a=n(4754),i=n(4120),l=n(5331),u=n(3708),s=n(9545),c=n(360),d=n(6265),p=n.n(d),f=n(4486);const m="Pro",h="Pro"===m,g="Q_L_R_R_ACCESS_TOKEN",v="Q_L_R_R_USER_INFO",w=h?"wx435641b82183ea02":"wx7770f7299260c59d";function _(e=null){let t=window.location.href.split("?");if(t.length<2)return e?null:{};let n=t[1].split("&"),o={};return n.forEach((e=>{let t=e.split("=");o[t[0]]=t[1]})),e?o.key?o[e]:null:o}function y(){let e=window.location.href,t=e.match(/(\S+\/)\w+.html/i);return t&&Array.isArray(t)&&t.length>1?t[1]:e}function b(e){return f.Z.set(v,e),e}function x(){return f.Z.get(g)}function P(){return f.Z.get(g,"").length>5}function k(e){return f.Z.set(g,e)}function C(){return f.Z.remove(g)}const U=3e3,j=4,V=800,O=h?window.location.origin:"",S=p().create({baseURL:O,headers:{Accept:"*/*"},timeout:U});S.defaults.retry=j,S.defaults.retryDelay=V,S.interceptors.request.use((e=>(e.showLoading&&(0,a.di)({message:"加载中...",forbidClick:!0}),e.headers["Authorization"]=x(),e)),(e=>{(0,a.yg)(),Promise.reject(e)})),S.interceptors.response.use((e=>((0,a.yg)(),200!==e.status?((0,a.CF)("数据返回出错"),Promise.reject("响应非200！")):"401"===e.data.code?((0,a.di)({message:"登录失效，正在重新登录",forbidClick:!0}),C(),void setTimeout((()=>{window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${w}&redirect_uri=${y()}&response_type=code&scope=snsapi_base&state=123#wechat_redirect`}),600)):"A0215"===e.data.code?((0,a.di)({message:"微信授权失败，正在重新授权登录",forbidClick:!0}),C(),void setTimeout((()=>{window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${w}&redirect_uri=${y()}&response_type=code&scope=snsapi_base&state=123#wechat_redirect`}),600)):"00000"!=e.data.code?((0,a.CF)(e.data.msg),Promise.reject("error")):e.data.data)),(e=>((0,a.CF)(e.message),Promise.reject(e))));var A=S;const q=e=>A({url:"/api/wxuser/wxUserLogin",method:"post",data:e}),T={style:{margin:"16px",display:"flex","flex-direction":"column"}},F=(0,o.Uk)(" 登录 "),$=(0,o.Uk)(" 已阅读并同意《"),z=(0,o._)("a",{style:{color:"#0077d6"},href:"./userAgreement.html"},"用户隐私政策",-1),L=(0,o.Uk)("》 ");var N={__name:"LoginPopup",props:{modelValue:Boolean},emits:["success"],setup(e,{emit:t}){const n=(0,r.iH)(""),d=(0,r.iH)(""),p=(0,r.iH)(!1),f=async()=>{if(!p.value)return void(0,a.CF)("请阅读并同意《用户隐私政策》");if(!n.value)return void(0,a.CF)("请填写验证码");if(11!==d.value.length)return void(0,a.CF)("请正确填写手机号");const e=await q({mobileCode:n.value,userTel:d.value,vcode:window.$pageParams.code});let o=e.tokenInfo||{};b(o),k("Bearer "+o.tokenValue),t("success")};return(t,a)=>((0,o.wg)(),(0,o.j4)((0,r.SU)(i.GI),{show:e.modelValue,round:"",position:"bottom",style:{height:"40%"}},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(l.TS),{inset:"",style:{"margin-top":"40px"}},{default:(0,o.w5)((()=>[(0,o.Wm)((0,r.SU)(u.gN),{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),name:"phone",label:"用户名",placeholder:"请填写用户名"},null,8,["modelValue"]),(0,o.Wm)((0,r.SU)(u.gN),{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),name:"msg",type:"password",label:"验证码",placeholder:"请填写密码"},null,8,["modelValue"])])),_:1}),(0,o._)("div",T,[(0,o.Wm)((0,r.SU)(s.zx),{round:"",block:"",type:"primary",onClick:f},{default:(0,o.w5)((()=>[F])),_:1}),(0,o.Wm)((0,r.SU)(c.XZ),{"icon-size":"16px",style:{"margin-top":"26px","font-size":"13px"},modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e)},{default:(0,o.w5)((()=>[$,z,L])),_:1},8,["modelValue"])])])),_:1},8,["show"]))}};const Z=N;var E=Z;const H=e=>((0,o.dD)("data-v-3d81fa3c"),e=e(),(0,o.Cn)(),e),R={class:"index"},W=H((()=>(0,o._)("div",{style:{"padding-bottom":"10px"}},[(0,o._)("a",{style:{color:"#979797","font-size":"13px"},href:"./userAgreement.html"},"用户隐私政策")],-1)));var I={__name:"App",setup(e){const t=(0,r.iH)(!P()),n=()=>{t.value=!1};return(e,r)=>((0,o.wg)(),(0,o.iD)("div",R,[W,(0,o.Wm)(E,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),onSuccess:n},null,8,["modelValue"])]))}},D=n(89);const B=(0,D.Z)(I,[["__scopeId","data-v-3d81fa3c"]]);var G=B,M=(n(5110),n(9242)),Q=n(7765),K=n.n(Q);let X=window.PAGE_PATH,J=K()[X]||{};function Y(e={},t){let n=[];if(0===Object.keys(e).length)return n;for(let o in e)t[o]||n.push({name:o,desc:e[o]});return n}function ee(){let e=_(),t=Y(J.requiredParams,e);return new Promise(((n,o)=>{0!==t.length?(console.table(t),document.body.innerHTML=`<div style="width: 100%;height: 100vh;display: flex;flex-direction:column;justify-content: center;align-items: center">\n页面路径出错，请尝试重新打开。\n<code style="padding: 20px;margin-top:20px;background: #eee;">参数：${t.map((e=>e.desc)).join("、")}</code>\n</div>`,o(t)):n({pageName:X,pageParams:e})}))}ee().then((({pageName:e,pageParams:t})=>{window.$pageName=e,window.$pageParams=t,(0,M.ri)(G).mount("#app")})).catch((e=>{console.log(e)}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],a=e[c][2];for(var l=!0,u=0;u<o.length;u++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(l=!1,a<i&&(i=a));if(l){e.splice(c--,1);var s=r();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.j=826}(),function(){var e={826:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,i=o[0],l=o[1],u=o[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(u)var c=u(n)}for(t&&t(o);s<i.length;s++)a=i[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkvue_multiple_pages"]=self["webpackChunkvue_multiple_pages"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5933)}));o=n.O(o)})();
//# sourceMappingURL=index.4b2bebda.js.map